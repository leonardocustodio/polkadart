---
title: Ink CLI
---

`ink_cli` is a Dart library designed to simplify the process of generating Dart classes and methods for interacting with ink! smart contracts. The first step is to generate type-safe Dart code from your contract metadata using the TypeGenerator.

## Requirements

Before using `ink_cli`, ensure you have:

* Dart `>=3.6.0`
* `polkadart` & `polkadart_keyring` for blockchain interaction
* `ink_abi` for contract ABI parsing

## Installation

Add the following dependencies to your `pubspec.yaml` file:

```yaml
dependencies:
  ink_cli: any
  polkadart: any
  polkadart_keyring: any
  ink_abi: any
```

Then, run:

```sh
  dart pub get
```
or

```sh
  flutter pub get
```

## Generate Contract Class

The first step to interact with an ink! contract is to generate the Dart contract class from the contract metadata:

```dart
import 'dart:io';
import 'package:ink_cli/ink_cli.dart';

void main() {
  final String dir = Directory.current.absolute.path;
  final fileOutput = FileOutput('$dir/example/generated_flipper.dart');
  final generator = TypeGenerator(
      abiFilePath: './example/flipper.json', fileOutput: fileOutput);
  generator.generate();
  fileOutput.write();
}
```

This will generate a type-safe Dart class with all the contract methods and types that can be imported and used to interact with the deployed contract.

## Deploying and Interacting with a Contract

Once the contract class is generated, you can use it to deploy and interact with the smart contract on a Substrate blockchain.

### Example: Deploying the Flipper Contract

```dart
import 'dart:typed_data';
import 'package:polkadart/polkadart.dart';
import 'package:polkadart_keyring/polkadart_keyring.dart';
import 'generated_flipper.dart';

void main() async {
  final polkadart = Provider.fromUri(Uri.parse('ws://127.0.0.1:9944'));

  // Using Alice account
  final alice = KeyPair.sr25519.fromUri('//Alice');

  // Alternative: Using custom seed
  // final keyPair = KeyPair.sr25519.fromSeed(decodeHex(
  //     '0xe5be9a5092b81bca64be81d212e7f2f9eba183bb7a90954f7b76361f6edb5c0a'));

  final contract = Contract(
    provider: polkadart,
    address: Uint8List.fromList(alice.publicKey.bytes.toList()),
  );

  final InstantiateRequest result = await contract.new_contract(
    init_value: true,
    code: decodeHex(Constants.flipperCode),
    keyPair: alice,
  );
  print('Contract deployed: $result');
}
```

### Example: Calling Contract Methods

After generating code, you can call contract functions to flip the boolean value and get its current state.

```dart
Future<void> flip(Contract contract) async {
  await contract.flip();
}

Future<bool> get(Contract contract) async {
  return await contract.get();
}
```

## Why Use ink_cli?

- **Automated Code Generation**: No need to manually write contract interaction code.
- **Seamless Integration**: Works with `polkadart` for blockchain communication.
- **Scalable & Extendable**: Supports multiple versions of ink! metadata.
